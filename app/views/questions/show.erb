<%if @errors%>
  <ul>
    <%@errors.each do |error| %>
    <li><%error.full_message%></li>
    <%end%>
  </ul>
<%end%>

<h1 class="heading"><%= @q.title %></h1>
<p>Q: <%= @q.body %></p>
<p id="q_show_user_name-date">by: <%= @q.user.username %>  |  posted on: <%= @q.created_at.strftime('%B %e, %Y') %></p>


    <% @q.tags.each do |tag| %>
      <span class="single_tag"><a class="tag_link" href='/tags/<%= tag.id %>'><%= tag.name %></a></span>

    <% end %>

<div class="answers_container">
  <% @q.answers.each do |answer| %>
  <div class="single-answer">
    <div class="answer-body"><%= answer.body %></div>
    <div><%= answer.user.username %></div>
    <%= answer.created_at.strftime("%m-%d-%Y") %>


    <div class="edit_answer_section">
      <a class="edit_answer_link" class= "flapjack-button" href="/questions/<%=@q.id%>/answers/<%= answer.id%>/edit">Edit this post</a>
    </div>

    <form id="delete_answer_form" method="post" action="/questions/<%= @q.id %>/answers/<%= answer.id %>">
      <input id="answer_delete" type="hidden" name="_method" value="delete">
      <input type="submit" value="delete answer" class="flapjack-button">
    </form>

    <div class="edit-form-container">
    </div>
  </div>
  <% end %>


</div>



<div id="new_answer">

  <a class="flapjack-button" id="submit_answer_link" href="/questions/<%= @q.id %>/answers/new">Submit an Answer</a>

</div>

<div>
  <% if session['user_id'] == @q.user_id %>
    <a class="button" href="/questions/<%= @q.id %>/edit">Edit your question</a>
  <% end %>
</div>


<article id="upvote-container">
  <p><%= @q.votes.length %></p>
  <p>Upvote</p>
  <form method="post" action='/questions/<%= @q.id %>/upvote' class="new-question-vote">
    <button id="up-vote-button" type="submit" name="submit_param" value="submit_value"></button>
  <form method="post" action='/questions/<%= @q.id %>/upvote' class="new-question-vote">
    <button type="submit" name="submit_param" value="submit_value"></button>
  </form>
</article>

<article id="downvote-container">
  <p>Downvote</p>
  <form method="post" action='/questions/<%= @q.id %>/downvote' class="new-question-vote">
    <button id="down-vote-button" type="submit" name="submit_param" value="submit_value"></button>
  </form>
</article>

<p><a id="comment-link" class="button" href="/questions/<%= @q.id %>/comments/new">Comment on this question</a></p>

<h2 class="sub-heading">Comments</h2>
<% @comments.each do |comment| %>
  <article class="comment_block">• "<%= comment.body %>" -<%= comment.user.username %></article>
<% end %>

<h2 class="sub-heading">Answers</h2>
<% @q.answers.each do |answer| %>
  <div id="answer_container">
    A: <%= answer.body %>
    <div id="answer_username"><%= answer.user.username %></div>
    <div><a class="button" href="/answers/<%= answer.id %>/comments/new">Comment on this answer</a></div>

    <% answer.comments.limit(3).each do |comment| %>
      <article class="comment_block">"<%= comment.body %>"" - <%= comment.user.username %></article>
    <% end %>
    <a class="button" href="/questions/<%=@q.id%>/answers/<%= answer.id%>/edit">Edit this answer</a>

    <form id="delete_answer_form" method="post" action="/questions/<%= @q.id %>/answers/<%= answer.id %>">
      <input id="answer_delete" type="hidden" name="_method" value="delete">
      <input type="submit" value="delete answer" class="button">
    </form>
  </div>
<% end %>


<form id="answer_form" method="post" action="/answers">
  <input type="hidden" name="question_id" value=<%=@q.id%> >
  <input id="answer_body" type="text" name="body" placeholder="Answer" required>
      <input class="button" type="submit" value="Submit your answer">

</form>






